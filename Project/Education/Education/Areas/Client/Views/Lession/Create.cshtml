@{
    Layout = "~/Areas/Client/Views/Shared/_Layout.cshtml";
}

@*Html.ActionLink("Quay lại", null, null, null, new { @class = "btn btn-primary", href = Request.UrlReferrer })*@
<h1>Thêm bài giảng mới</h1>
<div class="container">
    <div class="row">
        @using (Html.BeginForm("Create", "Lession", FormMethod.Post, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
        {
        @Html.AntiForgeryToken()
        <h4>Nhập thông tin bài giảng</h4>
        <hr />
        <div class="form-group">
            <div class="col-md-2">
                <label class="control-label">Chọn môn học: </label>
            </div>
            <div class="col-md-4">
                <select class="form-control">
                    <option value="volvo">Volvo</option>
                    <option value="saab">Saab</option>
                    <option value="mercedes">Mercedes</option>
                    <option value="audi">Audi</option>
                </select>
            </div>
            <div class="col-md-2">
                <label class="control-label">Chọn lớp học: </label>
            </div>
            <div class="col-md-4">
                <select class="form-control">
                    <option value="volvo">Volvo</option>
                    <option value="saab">Saab</option>
                    <option value="mercedes">Mercedes</option>
                    <option value="audi">Audi</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-2">
                <label class="control-label">Tiêu đề bài giảng: </label>
            </div>
            <div class="col-md-10">
                <textarea class="form-control" rows="3" placeholder="Nhập tiêu đề bài giảng"></textarea>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-2">
                <label class="control-label">Mô tả bài giảng: </label>
            </div>
            <div class="col-md-10">
                <textarea class="form-control" rows="6" placeholder="Nhập mô tả bài giảng"></textarea>
            </div>
        </div>
        <h4>Nội dung tải lên:</h4>
        <hr />
        <div class="form-group form-choose-file">
            <!--<div class="col-md-10 col-md-offset-2 upload-file">
                <div class="input-group">
                    <input type="text" disabled class="form-control filename">
                    <div class="input-group-btn">
                        <div class="btn btn-danger btn-remove-file">
                            <span class="glyphicon glyphicon-remove"></span>
                            <span class="input-title">Xóa file này</span>
                        </div>
                        <div class="btn btn-default btn-input">
                            <span class="glyphicon glyphicon-folder-open"></span>
                            <span class="input-title">Chọn một file</span>
                            <input class="input-content" type="file" accept="image/png, image/jpeg, image/gif" name="input-file" />
                        </div>
                    </div>
                </div>
            </div>-->
        </div>
        <div class="form-group">
            <div class="col-md-4 col-md-offset-2">
                <span class="btn btn-default add-inputfile"><i class="glyphicon glyphicon-plus"></i> Thêm chọn file</span>
            </div>
        </div>
        <h4>Xác nhận:</h4>
        <hr />
        <div class="col-md-4 col-md-offset-5">
            <button class="btn btn-info" style="margin-bottom:10px" type="submit">Đăng bài giảng</button>
        </div>

        }
    </div>
</div>




<script>

    var inputFile = "";
    inputFile += '<div class="col-md-10 col-md-offset-2 upload-file">';
    inputFile += '<div class="input-group">';
    inputFile += '<input type="text" disabled class="form-control filename">';
    inputFile += '<div class="input-group-btn">';
    inputFile += '<div class="btn btn-danger btn-remove-file">';
    inputFile += '<span class="glyphicon glyphicon-remove"></span>';
    inputFile += '<span class="input-title">Xóa file này</span></div>';
    inputFile += '<div class="btn btn-default btn-input">';
    inputFile += '<span class="glyphicon glyphicon-folder-open"></span>';
    inputFile += '<span class="input-title"> Chọn một file</span>';
    inputFile += '<input class="input-content" type="file" accept="image/png, image/jpeg, image/gif" name="input-file" />';
    inputFile += '</div></div></div></div>';


    $('.add-inputfile').click(function () {
        //alert(inputFile);
        $('.form-choose-file').append(inputFile);
    });

    // trigger for future add input file
    $('.form-choose-file').on('change', 'div.btn-input .input-content', function () {
        var file = this.files[0];
        $(this).parent('div').parent('div').siblings('input.filename').val(file.name);
    });

    // trigger for future add input file
    $('.form-choose-file').on('click', '.btn-remove-file', function () {
        $(this).parent('div').parent('div').parent('div').remove();
    });

</script>

